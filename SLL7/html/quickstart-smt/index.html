<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLLSLL-L | Registering RHEL 7 or CentOS Linux 7 with SMT</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Registering RHEL 7 or CentOS Linux 7 with SMT | SLLSLL…"/>
<meta name="description" content="How to use SUSE Liberty Linux and SMT to update Red Hat Enterprise Linux 7 or CentOS Linux 7."/>
<meta name="product-name" content="SUSE Liberty LinuxSUSE Liberty Linux Lite"/>
<meta name="book-title" content="Registering RHEL 7 or CentOS Linux 7 with SMT"/>
<meta name="tracker-url" content="https://github.com/SUSE/doc-liberty/issues/new"/>
<meta name="tracker-type" content="gh"/>
<meta name="tracker-gh-assignee" content="tahliar"/>
<meta name="tracker-gh-labels" content="documentation,issue"/>
<meta name="tracker-gh-milestone" content="7"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Registering RHEL 7 or CentOS Linux 7 with SMT | SLLSLL…"/>
<meta property="og:description" content="Use SUSE Liberty Linux to update RHEL 7 or CentOS 7."/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Registering RHEL 7 or CentOS Linux 7 with SMT | SLLSLL…"/>
<meta name="twitter:description" content="Use SUSE Liberty Linux to update RHEL 7 or CentOS 7."/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Product &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "Registering RHEL 7 or CentOS Linux 7 with SMT",
  
    "description": "How to use SUSE Liberty Linux and SMT to update Red Hat Enterprise Linux 7 or CentOS Linux 7.",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2024-03-27T00:00+02:00",
      
    "datePublished": "2022-04-01T00:00+02:00",
      

    "about": [
      {
        "@type": "Thing",
        "name": "Upgrade &amp; Update"
      },
      {
        "@type": "Thing",
        "name": "Administration"
      }
    ],
  
    "mentions": [
      
      { "@type": "SoftwareApplication",
        "name": "SUSE Liberty LinuxSUSE Liberty Linux Lite",
        
        "applicationCategory": "Operating System",
        "operatingSystem": "Linux"
      }
      
    ],
    
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="next" href="apa.html" title="A. GNU licenses"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-liberty/edit/maintenance/SLL7/xml/art-quickstart-smt.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Registering RHEL 7 or CentOS Linux 7 with SMT</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Registering RHEL 7 or CentOS Linux 7 with SMT</div> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section xml:lang="en" class="article" id="art-quickstart-smt" data-id-title="Registering RHEL 7 or CentOS Linux 7 with SMT"><div class="titlepage"><div><div class="big-version-info"><span class="productname"><span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span></span></div><div><h1 class="title">Registering RHEL 7 or CentOS Linux 7 with SMT</h1></div><div class="date"><span class="imprint-label">Publication Date: </span>June 27, 2024
</div><div><div class="abstract"><p>
    This guide describes how to use <span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span> to update Red Hat Enterprise Linux 7
    or CentOS Linux 7.
   </p></div></div><div><div class="titlepage-revhistory"><a aria-label="Revision History" hreflang="en" href="rh-art-quickstart.html" target="_blank">Revision History: Registering RHEL 7 or CentOS Linux 7 with SMT</a></div></div></div></div><div><div xml:lang="en" class="legalnotice" id="id-1.1.5"><p>
  Copyright © 2022–2024

  SUSE LLC and contributors. All rights reserved.
 </p><p>
  Permission is granted to copy, distribute and/or modify this document under
  the terms of the GNU Free Documentation License, Version 1.2 or (at your
  option) version 1.3; with the Invariant Section being this copyright notice
  and license. A copy of the license version 1.2 is included in the section
  entitled <span class="quote">“<span class="quote">GNU Free Documentation License</span>”</span>.
 </p><p>
  For SUSE trademarks, see
  <a class="link" href="https://www.suse.com/company/legal/" target="_blank">https://www.suse.com/company/legal/</a>. All
  third-party trademarks are the property of their respective owners. Trademark
  symbols (®, ™ etc.) denote trademarks of SUSE and its affiliates.
  Asterisks (*) denote third-party trademarks.
 </p><p>
  All information found in this book has been compiled with utmost attention to
  detail. However, this does not guarantee complete accuracy. Neither
  SUSE LLC, its affiliates, the authors nor the translators shall be
  held liable for possible errors or the consequences thereof.
 </p></div></div><section class="sect1" id="introduction-quickstart-smt" data-id-title="Introduction"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1 </span><span class="title-name">Introduction</span></span> <a title="Permalink" class="permalink" href="index.html#introduction-quickstart-smt">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-liberty/edit/maintenance/SLL7/xml/art-quickstart-smt.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    <span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span> is a technology and support solution for mixed Linux environments.
    With a <span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span> subscription, you can register and receive updates for
    Red Hat Enterprise Linux, CentOS Linux, and SUSE Linux Enterprise Server. An optional High Availability extension is also available.
   </p><div id="id-1.2.3" class="admonition important compact"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><p>
     CentOS Stream is not supported.
    </p></div><p>
    You can register RHEL 7 or CentOS Linux 7 with one of the
    following tools:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
         Subscription Management Tool (SMT) on SUSE Linux Enterprise 12
       </p></li><li class="listitem"><p>
         Repository Mirroring Tool (RMT) on SUSE Linux Enterprise 15
       </p></li><li class="listitem"><p>
         SUSE Manager
       </p></li></ul></div><p>
    This guide describes how to register with SMT on SUSE Linux Enterprise 12. SMT is a proxy system for the
    SUSE Customer Center. The SMT server is registered with the SUSE Customer Center, and other systems in the network are
    registered with the SMT server and receive packages from it directly.
   </p><div class="orderedlist"><div class="title-container"><div class="orderedlist-title-wrap"><div class="orderedlist-title"><span class="title-number-name"><span class="title-name">Procedure overview </span></span><a title="Permalink" class="permalink" href="index.html#id-1.2.7">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-liberty/edit/maintenance/SLL7/xml/art-quickstart-smt.xml" title="Edit source document"> </a></div></div><ol class="orderedlist" type="1"><li class="listitem"><p>
      <a class="xref" href="index.html#requirements-quickstart-smt" title="2. Requirements">Section 2, “Requirements”</a>. Make sure you have everything
      required for the following procedures.
     </p></li><li class="listitem"><p>
      <a class="xref" href="index.html#configure-smt-server" title="3. Configuring the SMT server">Section 3, “Configuring the SMT server”</a>. This server must be installed on
      SUSE Linux Enterprise Server 12. You can skip this step if you already have an SMT server in
      your network.
     </p></li><li class="listitem"><p>
      <a class="xref" href="index.html#mirror-repositories-with-smt" title="4. Mirroring SUSE Liberty LinuxSUSE Liberty Linux Lite repositories with SMT">Section 4, “Mirroring <span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span> repositories with SMT”</a>. You can skip this step if
      <span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span> is already enabled and mirrored on your SMT server.
     </p></li><li class="listitem"><p>
      <a class="xref" href="index.html#register-7-with-smt" title="5. Registering RHEL or CentOS Linux with SMT">Section 5, “Registering RHEL or CentOS Linux with SMT”</a>.
     </p></li></ol></div><div id="id-1.2.8" data-id-title="SUSE Liberty LinuxSUSE Liberty Linux Lite and SUSE Linux Enterprise Server with Expanded Support" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: <span class="emphasis"><em><span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span></em></span> and <span class="emphasis"><em>SUSE Linux Enterprise Server with Expanded Support</em></span></div><p>
     <span class="emphasis"><em><span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span></em></span> now provides what used to be covered by
     the <span class="emphasis"><em>SUSE Linux Enterprise Server with Expanded Support</em></span> subscription. Some
     components might still use the <span class="emphasis"><em>Expanded Support</em></span> name
     during the transition period.
    </p></div><div class="itemizedlist"><div class="title-container"><div class="itemizedlist-title-wrap"><div class="itemizedlist-title"><span class="title-number-name"><span class="title-name">Related information </span></span><a title="Permalink" class="permalink" href="index.html#id-1.2.9">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-liberty/edit/maintenance/SLL7/xml/art-quickstart-smt.xml" title="Edit source document"> </a></div></div><ul class="itemizedlist"><li class="listitem"><p>
      <a class="link" href="https://documentation.suse.com/sles-12/html/SLES-all/book-smt.html" target="_blank">
      <em class="citetitle">Subscription Management Tool Guide</em></a>
     </p></li><li class="listitem"><p>
      <a class="link" href="https://documentation.suse.com/liberty/7/html/quickstart/art-quickstart.html" target="_blank">
      <em class="citetitle">Registering RHEL 7 or CentOS Linux 7 with RMT</em></a>
     </p></li><li class="listitem"><p>
      <a class="link" href="https://documentation.suse.com/liberty/8/html/quickstart/art-quickstart.html" target="_blank">
      <em class="citetitle">Registering RHEL 8 or CentOS Linux 8 with RMT</em></a>
     </p></li><li class="listitem"><p>
      <a class="link" href="https://documentation.suse.com/liberty/9/html/quickstart/art-quickstart.html" target="_blank">
      <em class="citetitle">Registering RHEL 9 with RMT</em></a>
     </p></li><li class="listitem"><p>
        <a class="link" href="https://documentation.suse.com/suma/en/suse-manager/client-configuration/clients-sleses.html" target="_blank">
        <em class="citetitle">SUSE Manager Client Configuration Guide: Registering SUSE Liberty Linux Clients</em></a>
      </p></li></ul></div></section><section class="sect1" id="requirements-quickstart-smt" data-id-title="Requirements"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2 </span><span class="title-name">Requirements</span></span> <a title="Permalink" class="permalink" href="index.html#requirements-quickstart-smt">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-liberty/edit/maintenance/SLL7/xml/art-quickstart-smt.xml" title="Edit source document"> </a></div></div></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     You have a <span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span> subscription.
    </p></li><li class="listitem"><p>
     You have a <a class="link" href="https://scc.suse.com/" target="_blank">SUSE Customer Center</a> account.
    </p></li><li class="listitem"><p>
     The systems you want to register are up to date. <span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span> only
     supports the latest minor release of each RHEL or CentOS Linux version.
    </p></li><li class="listitem"><p>
     SUSE Linux Enterprise Server (SLES) 12 is installed and up to date. This machine will be
     the SMT server. You can use the <span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span> subscription to
     register SLES. To install SLES 12, see
     <a class="link" href="https://documentation.suse.com/sles-12/html/SLES-all/art-sle-installquick.html" target="_blank">
     <em class="citetitle">Installation Quick Start</em></a>.
    </p></li><li class="listitem"><p>
      The systems you want to register can reach the SMT server.
     </p></li><li class="listitem"><p>
     The SMT server has enough storage available for repository mirroring.
     Downloaded packages are stored in <code class="filename">/srv/www/htdocs/repo</code>.
     The amount of storage required depends on the number of repositories you mirror.
     We recommend at least 1.5 times the total size of all enabled repositories.
     Be aware that these repositories will grow substantially over time.
    </p></li></ul></div></section><section xml:lang="en" class="sect1" id="configure-smt-server" data-id-title="Configuring the SMT server"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3 </span><span class="title-name">Configuring the SMT server</span></span> <a title="Permalink" class="permalink" href="index.html#configure-smt-server">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-liberty/edit/maintenance/SLL7/xml/configure-smt-server.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Use this procedure to configure the Subscription Management Tool (SMT) on SUSE Linux Enterprise Server 12.
 </p><div class="itemizedlist"><div class="title-container"><div class="itemizedlist-title-wrap"><div class="itemizedlist-title"><span class="title-number-name"><span class="title-name">Requirements </span></span><a title="Permalink" class="permalink" href="index.html#id-1.4.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-liberty/edit/maintenance/SLL7/xml/configure-smt-server.xml" title="Edit source document"> </a></div></div><ul class="itemizedlist"><li class="listitem"><p>
    SUSE Linux Enterprise Server 12 is installed and up to date.
   </p></li><li class="listitem"><p>
    You have a SUSE Customer Center account and organization credentials.
   </p></li></ul></div><div class="procedure" id="pro-configure-smt-server" data-id-title="Configuring the SMT server"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 1: </span><span class="title-name">Configuring the SMT server </span></span><a title="Permalink" class="permalink" href="index.html#pro-configure-smt-server">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-liberty/edit/maintenance/SLL7/xml/configure-smt-server.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
    Install the SMT pattern on SUSE Linux Enterprise Server 12:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">zypper in -t pattern smt</code></pre></div></li><li class="step"><p>
    Start the <code class="literal">smt-wizard</code> module in YaST:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">yast2 smt-wizard</code></pre></div></li><li class="step"><p>
    Activate the <span class="guimenu">Open Port in Firewall</span> check box.
   </p></li><li class="step"><p>
    Enter your <span class="guimenu">Organization (Mirroring) Credentials</span>.
   </p><div id="id-1.4.5.5.2" class="admonition tip compact"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><p>
     To find your organization credentials, log in to the
     <a class="link" href="https://scc.suse.com" target="_blank">SUSE Customer Center</a>, select your
     organization from <span class="guimenu">My Organizations</span>, and click
     <span class="guimenu">Proxies</span>. Your organization's <span class="guimenu">Mirroring
      credentials</span> are in the top right corner.
    </p></div></li><li class="step"><p>
    Select <span class="guimenu">Test</span> to validate the credentials. SMT connects
    to the SUSE Customer Center using the provided credentials and downloads testing data.
   </p></li><li class="step"><p>
    Enter the <span class="guimenu">SCC E-mail Used for Registration</span>.
   </p></li><li class="step"><p>
    Verify that the correct URL appears in <span class="guimenu">Your SMT Server URL</span>,
    then select <span class="guimenu">Next</span>.
   </p></li><li class="step"><p>
    For security reasons, SMT requires a separate user to connect to the database.
    Set a password for this user in the <span class="guimenu">Database Password for smt User</span>
    field, then confirm the new password in the next field.
   </p></li><li class="step"><p>
    Select <span class="guimenu">Add</span> to enter any e-mail addresses that should receive
    SMT reports. When all e-mail addresses are entered, select <span class="guimenu">Next</span>.
   </p></li><li class="step"><p>
    If a password for the MariaDB root user is already set, enter the password
    when prompted, then select <span class="guimenu">OK</span>.
   </p><p>
    If no password is set for the MariaDB root user, enter and confirm a new
    password when prompted, then select <span class="guimenu">OK</span>.
   </p></li><li class="step"><p>
    By default, SMT communicates with clients via a secure protocol. If the
    SSL certificate does not exist, the wizard displays a warning. Select
    <span class="guimenu">Run CA Management</span> to create the certificate.
   </p></li><li class="step"><p>
    If prompted, enter and confirm a password for the CA private key, then select
    <span class="guimenu">OK</span>.
   </p></li><li class="step"><p>
    Review the <span class="guimenu">Installation Overview</span>, then select
    <span class="guimenu">Next</span>.
   </p></li></ol></div></div><p>
  YaST writes the SMT configuration and runs a synchronization check.
  The synchronization check might take some time, even after the progress bar
  says <code class="literal">100%</code>.
 </p><div class="itemizedlist"><div class="title-container"><div class="itemizedlist-title-wrap"><div class="itemizedlist-title"><span class="title-number-name"><span class="title-name">More information </span></span><a title="Permalink" class="permalink" href="index.html#id-1.4.7">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-liberty/edit/maintenance/SLL7/xml/configure-smt-server.xml" title="Edit source document"> </a></div></div><ul class="itemizedlist"><li class="listitem"><p>
    <a class="link" href="https://documentation.suse.com/sles-12/html/SLES-all/smt-installation.html" target="_blank">
    SMT Installation</a>
   </p></li><li class="listitem"><p>
    <a class="link" href="https://documentation.suse.com/sles-12/html/SLES-all/smt-server.html" target="_blank">
    SMT Server Configuration</a>
   </p></li></ul></div></section><section xml:lang="en" class="sect1" id="mirror-repositories-with-smt" data-id-title="Mirroring SUSE Liberty LinuxSUSE Liberty Linux Lite repositories with SMT"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4 </span><span class="title-name">Mirroring <span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span> repositories with SMT</span></span> <a title="Permalink" class="permalink" href="index.html#mirror-repositories-with-smt">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-liberty/edit/maintenance/SLL7/xml/mirror-repositories-with-smt.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Use this procedure to mirror the <span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span> repositories for Red Hat Enterprise Linux 7
  and CentOS Linux 7.
 </p><div class="itemizedlist"><div class="title-container"><div class="itemizedlist-title-wrap"><div class="itemizedlist-title"><span class="title-number-name"><span class="title-name">Requirements </span></span><a title="Permalink" class="permalink" href="index.html#id-1.5.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-liberty/edit/maintenance/SLL7/xml/mirror-repositories-with-smt.xml" title="Edit source document"> </a></div></div><ul class="itemizedlist"><li class="listitem"><p>
    <a class="xref" href="index.html#configure-smt-server" title="3. Configuring the SMT server">Section 3, “Configuring the SMT server”</a>
   </p></li><li class="listitem"><p>
    The SMT server has enough storage available for repository mirroring.
   </p></li><li class="listitem"><p>
    Your organization credentials appear correctly in <code class="filename">/etc/smt.conf</code>.
   </p></li><li class="listitem"><p>
    You have a <span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span> subscription activated in the SUSE Customer Center.
   </p></li></ul></div><div class="procedure" id="pro-mirror-repositories-with-smt" data-id-title="Mirroring SUSE Liberty LinuxSUSE Liberty Linux Lite repositories with SMT"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 2: </span><span class="title-name">Mirroring <span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span> repositories with SMT </span></span><a title="Permalink" class="permalink" href="index.html#pro-mirror-repositories-with-smt">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-liberty/edit/maintenance/SLL7/xml/mirror-repositories-with-smt.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
    On the SMT server, update the available product and repository metadata:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">smt-sync</code></pre></div></li><li class="step"><p>
    Enable <span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span> with the following command:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">smt-repos --enable-mirror RES-7-Updates</code>
1 repository enabled.</pre></div></li><li class="step"><p>
    If your subscription includes the High Availability extension, enable the extension with
    the following command:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">smt-repos --enable-mirror RES-7-HA-Updates</code>
1 repository enabled.</pre></div><div id="id-1.5.5.4.3" class="admonition tip compact"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><p>
     To check whether the extension is available, run the following command:
     <code class="command">smt-repos RES-7-HA-Updates</code>
    </p></div></li><li class="step"><p>
    Start package mirroring for the enabled repositories, and log the output
    in case you need to troubleshoot errors:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">smt-mirror --debug --logfile /var/log/smt/smt-mirror.log</code></pre></div><p>
    Packages will now be mirrored to the SMT server once per day.
   </p></li><li class="step"><p>
    To enable GPG checking, install the <span class="package">res-signingkeys</span>
    package on the SMT server:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">zypper in res-signingkeys</code></pre></div><p>
    The key is now available on the SMT server and can be imported to clients.
    You can check for the key in <code class="filename">/srv/www/htdocs/repo/keys/</code>
    on the server, or at <code class="literal">http://<em class="replaceable">SMT_SERVER_URL</em>/repo/keys/</code>
    in a browser.
   </p></li></ol></div></div><div class="itemizedlist"><div class="title-container"><div class="itemizedlist-title-wrap"><div class="itemizedlist-title"><span class="title-number-name"><span class="title-name">More information </span></span><a title="Permalink" class="permalink" href="index.html#id-1.5.6">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-liberty/edit/maintenance/SLL7/xml/mirror-repositories-with-smt.xml" title="Edit source document"> </a></div></div><ul class="itemizedlist"><li class="listitem"><p>
    <a class="link" href="https://documentation.suse.com/sles-12/html/SLES-all/smt-mirroring.html" target="_blank">
    Mirroring Repositories on the SMT Server</a>
   </p></li></ul></div></section><section xml:lang="en" class="sect1" id="register-7-with-smt" data-id-title="Registering RHEL or CentOS Linux with SMT"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5 </span><span class="title-name">Registering RHEL or CentOS Linux with SMT</span></span> <a title="Permalink" class="permalink" href="index.html#register-7-with-smt">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-liberty/edit/maintenance/SLL7/xml/register-with-smt.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Use this procedure to register Red Hat Enterprise Linux 7 or CentOS Linux 7
  with the SMT server.
 </p><div id="id-1.6.4" class="admonition important compact"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><p>
   CentOS Stream is not supported.
  </p></div><div class="itemizedlist"><div class="title-container"><div class="itemizedlist-title-wrap"><div class="itemizedlist-title"><span class="title-number-name"><span class="title-name">Requirements </span></span><a title="Permalink" class="permalink" href="index.html#id-1.6.5">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-liberty/edit/maintenance/SLL7/xml/register-with-smt.xml" title="Edit source document"> </a></div></div><ul class="itemizedlist"><li class="listitem"><p>
    <a class="xref" href="index.html#configure-smt-server" title="3. Configuring the SMT server">Section 3, “Configuring the SMT server”</a>
   </p></li><li class="listitem"><p>
    <a class="xref" href="index.html#mirror-repositories-with-smt" title="4. Mirroring SUSE Liberty LinuxSUSE Liberty Linux Lite repositories with SMT">Section 4, “Mirroring <span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span> repositories with SMT”</a>
   </p></li><li class="listitem"><p>
    The system you want to register can access the SMT server.
   </p></li><li class="listitem"><p>
    The system you want to register is running the latest minor release of RHEL 7
    or CentOS Linux 7.
   </p></li><li class="listitem"><p>
    You have a <span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span> subscription activated in the SUSE Customer Center.
   </p></li><li class="listitem"><p>
    The RHEL or CentOS repositories are still enabled. These might be
    required for package dependencies during the registration procedure.
   </p></li></ul></div><div class="procedure" id="pro-register-7-with-smt" data-id-title="Registering RHEL or CentOS Linux with SMT"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 3: </span><span class="title-name">Registering RHEL or CentOS Linux with SMT </span></span><a title="Permalink" class="permalink" href="index.html#pro-register-7-with-smt">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-liberty/edit/maintenance/SLL7/xml/register-with-smt.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
    Import the repository signing key from the SMT server:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">rpm --import -vv http://<em class="replaceable">SMT_SERVER_URL</em>/repo/keys/res-signingkeys.key</code></pre></div></li><li class="step"><p>
    Create a file called <code class="filename">/etc/yum.repos.d/RES7.repo</code> and
    add the following content:
   </p><div class="verbatim-wrap"><pre class="screen">[liberty7]
name=SUSE Liberty Linux 7
baseurl=http://<em class="replaceable">SMT_SERVER_URL</em>/repo/SUSE/Updates/RES/7/x86_64/update
enabled=1
gpgcheck=1</pre></div></li><li class="step"><p>
    To enable the High Availability repository, create a file called
    <code class="filename">/etc/yum.repos.d/RES7-HA.repo</code> and add the following content:
   </p><div class="verbatim-wrap"><pre class="screen">[liberty7-ha]
name=SUSE Liberty Linux 7 HA extension
baseurl=http://<em class="replaceable">SMT_SERVER_URL</em>/repo/SUSE/Updates/RES-HA/7/x86_64/update
enabled=1
gpgcheck=1</pre></div></li><li class="step"><p>
    Install the <span class="package">suseRegisterRES</span> package:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">yum install suseRegisterRES</code></pre></div></li><li class="step"><p>
    Copy the SMT certificate to the system:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">wget http://<em class="replaceable">SMT_SERVER_URL</em>/smt.crt</code>
<code class="prompt root"># </code><code class="command">cat smt.crt &gt;&gt; /etc/pki/tls/cert.pem</code></pre></div></li><li class="step"><p>
    Edit <code class="filename">/etc/suseRegister.conf</code> to point to SMT by
    changing the <code class="literal">url</code> value:
   </p><div class="verbatim-wrap"><pre class="screen">url = https://<em class="replaceable">SMT_SERVER_URL</em>/center/regsvc/</pre></div></li><li class="step"><p>
    Register the system:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">suse_register</code></pre></div></li><li class="step"><p>
    Disable the RHEL or CentOS repositories in <code class="filename">/etc/yum.repos.d</code>
    by setting <code class="literal">enabled=0</code> in each <code class="filename">.repo</code> file.
   </p></li><li class="step"><p>
    Run the update command to make sure there are no errors:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">yum update</code></pre></div></li></ol></div></div><p>
  You can now remove the system from any Red Hat subscription services it was
  registered to, and receive updates from repositories provided by <span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span>.
 </p></section><section class="sect1" id="troubleshoot-quickstart-smt" data-id-title="Troubleshooting"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6 </span><span class="title-name">Troubleshooting</span></span> <a title="Permalink" class="permalink" href="index.html#troubleshoot-quickstart-smt">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-liberty/edit/maintenance/SLL7/xml/art-quickstart-smt.xml" title="Edit source document"> </a></div></div></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.7.2.1"><span class="term">Mirroring completes with errors</span></dt><dd><p>
      If some packages could not be downloaded because of timeouts, rerun the
      <code class="command">smt-mirror</code> command until all packages are downloaded.
     </p></dd><dt id="id-1.7.2.2"><span class="term">Cannot access the <span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span> repository</span></dt><dd><p>
      The <code class="filename">repodata</code> directory on the SMT server will not
      be available until all of the packages for that repository are downloaded.
      If some packages could not be downloaded to the SMT server because of
      timeouts during the first mirroring, rerun the <code class="command">smt-mirror</code>
      command until all packages are downloaded.
     </p></dd><dt id="id-1.7.2.3"><span class="term"><code class="command">yum update</code> fails because of package conflicts</span></dt><dd><p>
      If <span class="package">sles_es-release-server</span> conflicts with existing packages,
      try the following workaround:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">rm -r /usr/share/redhat-release</code></pre></div><p>
      On CentOS, this removes the symbolic link between
      <code class="filename">redhat-release</code> and <code class="filename">centos-release</code>.
     </p><div id="id-1.7.2.3.2.4" class="admonition important compact"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><p>
       Make sure you run this command <span class="emphasis"><em>without</em></span> a <code class="literal">/</code>
      after <code class="literal">redhat-release</code>.
      </p></div></dd></dl></div></section></section><nav class="bottom-pagination"><div> </div><div><a class="pagination-link next" href="apa.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Appendix A </span>GNU licenses</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="section"><a href="index.html#introduction-quickstart-smt"><span class="title-number">1 </span><span class="title-name">Introduction</span></a></span></li><li><span class="section"><a href="index.html#requirements-quickstart-smt"><span class="title-number">2 </span><span class="title-name">Requirements</span></a></span></li><li><span class="section"><a href="index.html#configure-smt-server"><span class="title-number">3 </span><span class="title-name">Configuring the SMT server</span></a></span></li><li><span class="section"><a href="index.html#mirror-repositories-with-smt"><span class="title-number">4 </span><span class="title-name">Mirroring <span class="productname"><span class="phrase">SUSE Liberty Linux</span><span class="phrase">SUSE Liberty Linux Lite</span></span> repositories with SMT</span></a></span></li><li><span class="section"><a href="index.html#register-7-with-smt"><span class="title-number">5 </span><span class="title-name">Registering RHEL or CentOS Linux with SMT</span></a></span></li><li><span class="section"><a href="index.html#troubleshoot-quickstart-smt"><span class="title-number">6 </span><span class="title-name">Troubleshooting</span></a></span></li><li><span class="appendix"><a href="apa.html"><span class="title-number">A </span><span class="title-name">GNU licenses</span></a></span><ul><li><span class="sect1"><a href="apa.html#id-1.8.4"><span class="title-number">A.1 </span><span class="title-name">GNU Free Documentation License</span></a></span></li></ul></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>